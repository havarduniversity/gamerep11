<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Play Neverball</title>

  <meta name="description" content="Play Neverball in the browser. Tilt the floor to roll a ball through an obstacle course before time runs out.">

  <meta property="og:image" content="https://play.neverball.org/screenshot2.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <link rel="stylesheet" href="content.css">
</head>

<body>
  <section class="container flex flex-column gap-2.5 py-2.5">
    <div class="neverball-box in-game:hidden">
      <h1><span class="neverball-text" style="visibility: hidden;">Play Neverball</span></h1>

      <div id="status-line">
        <div id="progress"></div>
        <div id="status">Downloading...</div>
      </div>

      <div class="flex gap-2 items-center">
        <button style="visibility: hidden;" id="run-button" class="neverball-button" disabled>Play Now</button>
        <div class="spinner"></div>
      </div>
    </div>

      <canvas id="canvas" oncontextmenu="event.preventDefault()" tabindex="-1"></canvas>
      <div id="overlay">
        <button id="fullscreen-button" class="fullscreen-button"><span>Fullscreen</span></button>
      </div>
<div style="display: none;">
    <div class="neverball-box" id="replay-list-box">
      <h2><span class="neverball-text">Replays</span></h2>

      <div class="flex flex-column gap-2.5">
        <div id="replay-list-desc">Save or add some replays to see them here.</div>

        <ol class="list-none p-0 m-0 flex gap-1 flex-wrap" id="replay-list">
        </ol>

        <div>
          <input type="file" id="replay-input" class="hidden" accept=".nbr" multiple onchange="Neverball.uploadFiles('/neverball/Replays', this.files);">
          <label for="replay-input" class="neverball-button">Add Replay</label>

          <!-- <span class="text-xs">Drag and drop also works.</span> -->
        </div>
      </div>
    </div>
    </div>

  <script async src="content.js"></script>
  <script async src="neverball.js"></script>
  <script>
window.addEventListener('message', function(event) {
  // Check the origin of the sender (optional, depending on your security requirements)
  // No origin check when accepting messages from any sender (' * ')
  
  // Handle the message
  if (event.data.key) {
    // Do something with the key
    console.log('Received key:', event.data.key);
  }
});

  </script>
</body>

</html>
